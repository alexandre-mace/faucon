(this.webpackJsonpfaucon=this.webpackJsonpfaucon||[]).push([[0],{12:function(e){e.exports=JSON.parse('["Astroturfing","Amn\xe9sie collective","Fakelore","Redwashing","Propagande","D\xe9magogie","Surcharge informationnelle"]')},19:function(e,t,n){},20:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),a=n.n(i),o=n(11),c=n.n(o),l=(n(19),n(2)),s=(n(20),n(12)),u=function(e){return e.responseXML.querySelectorAll("h1")[0].innerText},f=function(e){var t,n=e.responseXML.querySelectorAll("h2:not(#mw-toc-heading)"),r=[],i=n[0];for(i.innerText.includes("de navigation")&&(i=n[1]),t=0;t<8;t++){if(i&&"P"===i.tagName){for(;null!==i&&"P"===i.tagName;)r.push(i),i=i.previousElementSibling;return r=r.map((function(e){return e.innerText})).reverse()}if(i.previousElementSibling&&"SECTION"===i.previousElementSibling.tagName){var a=i.previousElementSibling.lastChild;for(t=0;t<5;t++){if(a&&"P"===a.tagName)return Array.from(a.parentNode.childNodes).filter((function(e){return"P"===e.tagName})).map((function(e){return e.innerText}));a=a.previousElementSibling}}i=null===i.previousElementSibling?i.parentNode:i.previousElementSibling}return r},d=function(e){var t=e.responseXML.querySelector("#Articles_connexes");if(null!==t){var n,r=t.parentNode;for(n=0;n<8;n++){if(r&&r.className&&r.className.includes("colonnes")&&r.childNodes[1]&&"UL"===r.childNodes[1].tagName)return Array.from(r.childNodes[1].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(r&&"UL"===r.tagName)return Array.from(r.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if("SECTION"===r.tagName&&Array.from(r.childNodes).length>0){if(Array.from(r.childNodes).filter((function(e){return"UL"===e.tagName})).length>0)return Array.from(Array.from(r.childNodes).filter((function(e){return"UL"===e.tagName}))[0].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(Array.from(r.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")})).length>0)return Array.from(Array.from(r.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")}))[0].firstChild.nextSibling.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}))}r=null===r.nextSibling?r.parentNode:r.nextSibling}return[]}if(null!==(t=e.responseXML.querySelector("#Voir_aussi"))){var i=t.parentNode;for(n=0;n<5;n++){if(i&&"UL"===i.tagName)return Array.from(i.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if("SECTION"===i.tagName&&Array.from(i.childNodes).length>0){if(Array.from(i.childNodes).filter((function(e){return"UL"===e.tagName})).length>0)return Array.from(Array.from(i.childNodes).filter((function(e){return"UL"===e.tagName}))[0].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(Array.from(i.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")})).length>0)return Array.from(Array.from(i.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")}))[0].firstChild.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}))}i=null===i.nextSibling?i.parentNode:i.nextSibling}}return[]},m=function(e,t){var n=new XMLHttpRequest;n.open("GET","https://eerie-alien-18238.herokuapp.com/https://fr.wikipedia.org/wiki/"+e.replaceAll(" ","_"),!0),n.responseType="document",n.onload=function(e){if(4===n.readyState){if(200!==n.status)return console.error(n.status,n.statusText),void t({title:"Page non atteignable",description:["D\xe9sol\xe9, Faucon n'a pas pu trouver la page."],relateds:[]});if("undefined"!==typeof t){var r=u(n),i=f(n),a=d(n);return void t({title:r,description:i,relateds:a})}}},n.onerror=function(e){console.error(n.status,n.statusText)},n.send(null)},h=function(e,t){return m(e,t)},N=n(13),p=n.n(N),g=function(e){return e.replace(/\[\d+]/g,"").replace(/,{2,}/g,"")},j=window.matchMedia("(max-width: 600px)");Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var b=(j.matches,1),x=j.matches?20:50;var O=function(){var e=Object(i.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(s),c=Object(l.a)(o,1)[0],u=Object(i.useState)(!1),f=Object(l.a)(u,2),d=f[0],m=f[1],N=Object(i.useState)(!0),j=Object(l.a)(N,2),O=j[0],v=j[1],S=Object(i.useState)([]),y=Object(l.a)(S,2),T=y[0],A=y[1],L=Object(i.useState)({status:!1}),E=Object(l.a)(L,2),P=E[0],w=E[1],C=Object(i.useState)(null),I=Object(l.a)(C,2),M=I[0],F=I[1],k=function(){setTimeout((function(){m(!1)}),550)};return Object(i.useEffect)((function(){if(O){var e=null===M||"undefined"===typeof M?c:c.filter((function(e){return e!==M.title}));F(null),m(!0),k();var t=e.random();h(t,F),A(T.concat([t])),v(!1)}}),[O,c]),Object(i.useEffect)((function(){P.status&&(F(null),m(!0),k(),h(P.related,F),A(T.concat([P.related])),w({status:!1}))}),[P,c]),Object(i.useEffect)((function(){window.scrollTo(0,0)}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("div",{id:"maintitle",children:"Faucon"}),Object(r.jsxs)("div",{className:"count",children:[Object(r.jsx)("span",{children:n})," sujets \xe9tudi\xe9s."]}),Object(r.jsx)("p",{id:"subtitle",children:"S'informer sur la d\xe9sinformation"})]}),Object(r.jsxs)("main",{className:M?"main":"main-min",children:[(O||P.status||d||null===M)&&Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)(p.a,{children:"Faucon"})}),M&&!(O||P.status||d)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"definition-title",children:M.title}),Object(r.jsx)("div",{className:"definition-source",children:Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:M.sourceUrl,children:M.sourceName})}),M.description.map((function(e,t){return Object(r.jsx)("div",{className:"definition-content",children:g(e)},t)})),Object(r.jsx)("div",{className:"related-wrapper",children:M.relateds.slice(0,10).filter((function(e){return!T.includes(e)})).map((function(e,t){return Object(r.jsx)("div",{style:{fontSize:Math.random()*b+1+"rem",transform:"translateY("+-Math.random()*x+"px)"},className:"definition-related",onClick:function(){a(n+1),w({status:!0,related:e})},children:e},t)}))})]}),Object(r.jsx)("button",{className:"action-button",onClick:function(){a(n+1),v(!0)},children:"Compris"})]})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),v()}},[[42,1,2]]]);
//# sourceMappingURL=main.50ac4420.chunk.js.map