(this.webpackJsonpfaucon=this.webpackJsonpfaucon||[]).push([[0],{13:function(e){e.exports=JSON.parse('["Astroturfing","Amn\xe9sie collective","Fakelore","Redwashing","Propagande","D\xe9magogie","Surcharge informationnelle"]')},19:function(e,n,t){},20:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t(1),a=t.n(i),o=t(12),c=t.n(o),l=(t(19),t(2)),s=(t(20),function(e){return e.replace(/\[\d+]/g,"").replace(/,{2,}/g,"")}),u=t(13),f=function(e){return e.responseXML.querySelectorAll("h1")[0].innerText},d=function(e){return e.responseXML.querySelectorAll(".bandeau-niveau-grave").length>0},m=function(e){var n,t=e.responseXML.querySelectorAll("h2:not(#mw-toc-heading)"),r=[],i=t[0];for(i.innerText.includes("de navigation")&&(i=t[1]),n=0;n<8;n++){if(i&&"P"===i.tagName){for(;null!==i&&"P"===i.tagName;)r.push(i),i=i.previousElementSibling;return r=r.map((function(e){return e.innerText})).reverse()}if(i.previousElementSibling&&"SECTION"===i.previousElementSibling.tagName){var a=i.previousElementSibling.lastChild;for(n=0;n<5;n++){if(a&&"P"===a.tagName)return Array.from(a.parentNode.childNodes).filter((function(e){return"P"===e.tagName})).map((function(e){return e.innerText}));a=a.previousElementSibling}}i=null===i.previousElementSibling?i.parentNode:i.previousElementSibling}return r},h=function(e){var n=e.responseXML.querySelector("#Articles_connexes");if(null!==n){var t,r=n.parentNode;for(t=0;t<8;t++){if(r&&r.className&&r.className.includes("colonnes")&&r.childNodes[1]&&"UL"===r.childNodes[1].tagName)return Array.from(r.childNodes[1].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(r&&"UL"===r.tagName)return Array.from(r.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if("SECTION"===r.tagName&&Array.from(r.childNodes).length>0){if(Array.from(r.childNodes).filter((function(e){return"UL"===e.tagName})).length>0)return Array.from(Array.from(r.childNodes).filter((function(e){return"UL"===e.tagName}))[0].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(Array.from(r.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")})).length>0)return Array.from(Array.from(r.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")}))[0].firstChild.nextSibling.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}))}r=null===r.nextSibling?r.parentNode:r.nextSibling}return[]}if(null!==(n=e.responseXML.querySelector("#Voir_aussi"))){var i=n.parentNode;for(t=0;t<5;t++){if(i&&"UL"===i.tagName)return Array.from(i.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if("SECTION"===i.tagName&&Array.from(i.childNodes).length>0){if(Array.from(i.childNodes).filter((function(e){return"UL"===e.tagName})).length>0)return Array.from(Array.from(i.childNodes).filter((function(e){return"UL"===e.tagName}))[0].childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}));if(Array.from(i.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")})).length>0)return Array.from(Array.from(i.childNodes).filter((function(e){return e.className&&e.className.includes("colonnes")}))[0].firstChild.childNodes).filter((function(e){return"LI"===e.tagName})).filter((function(e){return!e.innerText.includes("Portail")})).map((function(e){return e.innerText}))}i=null===i.nextSibling?i.parentNode:i.nextSibling}}return[]},g=function(e,n){var t=new XMLHttpRequest;t.open("GET","https://eerie-alien-18238.herokuapp.com/https://fr.wikipedia.org/wiki/"+e.replaceAll(" ","_"),!0),t.responseType="document",t.onload=function(e){if(4===t.readyState){if(200!==t.status)return console.error(t.status,t.statusText),void n({title:"Page non atteignable",description:["D\xe9sol\xe9, Faucon n'a pas pu trouver la page."],relateds:[],hasSevereWarning:!1});if("undefined"!==typeof n){var r=f(t),i=m(t),a=h(t),o=d(t);return void n({title:r,description:i,relateds:a,hasSevereWarning:o})}}},t.onerror=function(e){console.error(t.status,t.statusText)},t.send(null)},j=function(e,n){return g(e,n)},N=function(e){setTimeout((function(){e(!1)}),0)},b=window.matchMedia("(max-width: 600px)"),p=(b.matches,1),x=b.matches?20:50;Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var O=function(e){var n=e.count,t=e.setCount,a=e.loading,o=e.setLoading,c=Object(i.useState)(u),f=Object(l.a)(c,1)[0],d=Object(i.useState)(!0),m=Object(l.a)(d,2),h=m[0],g=m[1],b=Object(i.useState)([]),O=Object(l.a)(b,2),v=O[0],S=O[1],y=Object(i.useState)({status:!1}),T=Object(l.a)(y,2),A=T[0],L=T[1],E=Object(i.useState)(null),P=Object(l.a)(E,2),w=P[0],C=P[1],I=Object(i.useState)(!0),M=Object(l.a)(I,2),k=M[0],F=M[1];return Object(i.useEffect)((function(){!1===k&&N(o)}),[k]),Object(i.useEffect)((function(){if(h){var e=null===w||"undefined"===typeof w?f:f.filter((function(e){return e!==w.title}));C(null),!0!==a&&o(!0),!0!==k&&F(!0);var n=e.random();j(n,C),S(v.concat([n])),g(!1)}}),[h,f]),Object(i.useEffect)((function(){A.status&&(C(null),o(!0),F(!0),j(A.related,C),S(v.concat([A.related])),L({status:!1}))}),[A,f]),Object(i.useEffect)((function(){null!==w&&F(!1)}),[w,F]),Object(r.jsx)("main",{className:w?"main":"main-min",children:w&&!(h||A.status)&&!a&&Object(r.jsxs)(r.Fragment,{children:[w.hasSevereWarning&&Object(r.jsxs)("div",{className:"definition-warning",children:[Object(r.jsx)("span",{role:"img","aria-label":"warning",children:"\u26a0\ufe0f\ufe0f"})," Attention, la d\xe9finition est issue d'un article qui comporte un risque sur la v\xe9racit\xe9 des informations expos\xe9es."]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"definition-title",children:w.title}),Object(r.jsx)("div",{className:"definition-source",children:Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:w.sourceUrl,children:w.sourceName})}),w.description.map((function(e,n){return Object(r.jsx)("div",{className:"definition-content",children:s(e)},n)})),Object(r.jsx)("div",{className:"related-wrapper",children:w.relateds.slice(0,10).filter((function(e){return!v.includes(e)})).map((function(e,i){return Object(r.jsx)("div",{style:{fontSize:Math.random()*p+1+"rem",transform:"translateY("+-Math.random()*x+"px)"},className:"definition-related",onClick:function(){t(n+1),L({status:!0,related:e})},children:e},i)}))})]}),Object(r.jsx)("button",{className:"action-button",onClick:function(){"Page non atteignable"!==w.title&&t(n+1),g(!0)},children:"Nouvelle d\xe9finition"})]})})},v=t(3),S=t.n(v),y=function(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsxs)(S.a,{loop:!0,children:["Faucon",Object(r.jsx)(S.a.Delay,{ms:1e3}),Object(r.jsx)(S.a.Backspace,{count:6}),Object(r.jsx)(S.a.Delay,{ms:200})]})})};var T=function(){var e=Object(i.useState)(0),n=Object(l.a)(e,2),t=n[0],a=n[1],o=Object(i.useState)(!0),c=Object(l.a)(o,2),s=c[0],u=c[1];return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("div",{id:"maintitle",children:"Faucon"}),Object(r.jsxs)("div",{className:"count",children:[Object(r.jsx)("span",{children:t})," sujets \xe9tudi\xe9s."]}),Object(r.jsx)("p",{id:"subtitle",children:"S'informer sur la d\xe9sinformation"})]}),s&&Object(r.jsx)(y,{}),Object(r.jsx)(O,{count:t,setCount:a,loading:s,setLoading:u})]})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),a(e),o(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(T,{})}),document.getElementById("root")),A()}},[[42,1,2]]]);
//# sourceMappingURL=main.9ac199e2.chunk.js.map